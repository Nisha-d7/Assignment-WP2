<div class="card">
  <h1>Contact Form</h1>
  <p>This page demonstrates a reactive form with validation using Angular's FormBuilder and Validators.</p>
  
  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
    
    <!-- Name Field -->
    <div class="form-group">
      <label for="name" class="form-label">Full Name *</label>
      <input 
        type="text" 
        id="name" 
        formControlName="name"
        class="form-control"
        [class.error]="isFieldInvalid('name')"
        placeholder="Enter your full name">
      <div *ngIf="isFieldInvalid('name')" class="error-message">
        {{ getErrorMessage('name') }}
      </div>
    </div>

    <!-- Email Field -->
    <div class="form-group">
      <label for="email" class="form-label">Email Address *</label>
      <input 
        type="email" 
        id="email" 
        formControlName="email"
        class="form-control"
        [class.error]="isFieldInvalid('email')"
        placeholder="Enter your email address">
      <div *ngIf="isFieldInvalid('email')" class="error-message">
        {{ getErrorMessage('email') }}
      </div>
    </div>

    <!-- Phone Field -->
    <div class="form-group">
      <label for="phone" class="form-label">Phone Number *</label>
      <input 
        type="tel" 
        id="phone" 
        formControlName="phone"
        class="form-control"
        [class.error]="isFieldInvalid('phone')"
        placeholder="Enter your 10-digit phone number">
      <div *ngIf="isFieldInvalid('phone')" class="error-message">
        {{ getErrorMessage('phone') }}
      </div>
    </div>

    <!-- Subject Field -->
    <div class="form-group">
      <label for="subject" class="form-label">Subject *</label>
      <input 
        type="text" 
        id="subject" 
        formControlName="subject"
        class="form-control"
        [class.error]="isFieldInvalid('subject')"
        placeholder="Enter the subject">
      <div *ngIf="isFieldInvalid('subject')" class="error-message">
        {{ getErrorMessage('subject') }}
      </div>
    </div>

    <!-- Message Field -->
    <div class="form-group">
      <label for="message" class="form-label">Message *</label>
      <textarea 
        id="message" 
        formControlName="message"
        class="form-control"
        [class.error]="isFieldInvalid('message')"
        rows="6"
        placeholder="Enter your message (minimum 10 characters)"></textarea>
      <div *ngIf="isFieldInvalid('message')" class="error-message">
        {{ getErrorMessage('message') }}
      </div>
    </div>

    <!-- Form Actions -->
    <div class="form-actions">
      <button 
        type="submit" 
        class="btn btn-primary"
        [disabled]="isSubmitting">
        <span *ngIf="isSubmitting">Submitting...</span>
        <span *ngIf="!isSubmitting">Submit</span>
      </button>
      
      <button 
        type="button" 
        class="btn btn-secondary"
        (click)="onReset()"
        [disabled]="isSubmitting">
        Reset
      </button>
    </div>

    <!-- Form Status Display -->
    <div class="form-status" *ngIf="contactForm.dirty">
      <h3>Form Status:</h3>
      <p><strong>Valid:</strong> {{ contactForm.valid ? 'Yes' : 'No' }}</p>
      <p><strong>Touched:</strong> {{ contactForm.touched ? 'Yes' : 'No' }}</p>
      <p><strong>Dirty:</strong> {{ contactForm.dirty ? 'Yes' : 'No' }}</p>
    </div>

  </form>
</div>
